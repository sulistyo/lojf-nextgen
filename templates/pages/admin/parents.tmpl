{{define "content"}}
<h1 class="text-2xl font-bold mb-4">Admin • Parents</h1>
{{template "admin_nav" .}}
{{template "flash" .}}

<form method="GET" class="mb-3 flex gap-2">
  <input name="q" value="{{.Q}}" placeholder="Search name or phone"
         class="border rounded-xl px-3 py-2 w-64" />
  <button class="px-3 py-2 rounded-xl border underline">Search</button>
</form>

<table class="w-full text-sm border rounded-xl overflow-hidden">
  <thead class="bg-gray-50">
    <tr>
      <th class="px-3 py-2 text-left">Name</th>
      <th class="px-3 py-2 text-left">Phone</th>
      <th class="px-3 py-2 text-left">Email</th>
      <th class="px-3 py-2 text-left">Actions</th>
    </tr>
  </thead>
  <tbody>
    {{range .Parents}}
      <tr class="border-t">
        <td class="px-3 py-2"><a class="underline" href="/admin/parents/{{.ID}}">{{.Name}}</a></td>
        <td class="px-3 py-2">{{.Phone}}</td>
        <td class="px-3 py-2">{{if .Email}}{{.Email}}{{else}}<span class="text-gray-400">—</span>{{end}}</td>
        <td class="px-3 py-2">
          <a class="underline" href="/admin/parents/{{.ID}}">View</a>
        </td>
      </tr>
    {{else}}
      <tr><td colspan="4" class="px-3 py-6 text-center text-gray-500">No parents found.</td></tr>
    {{end}}
  </tbody>
</table>

<!-- Pager -->
<div class="mt-3 flex items-center gap-3">
  <div class="text-xs text-gray-500">Total: {{.Total}}</div>
  <div class="ml-auto flex items-center gap-2">
    {{if .HasPrev}}<a class="underline" href="?q={{.Q}}&page={{.PrevPage}}&per={{.Per}}">&larr; Prev</a>{{end}}
    {{if .HasNext}}<a class="underline" href="?q={{.Q}}&page={{.NextPage}}&per={{.Per}}">Next &rarr;</a>{{end}}
  </div>
</div>

{{end}}
{{define "admin/parents.tmpl"}}{{template "base" .}}{{end}}
